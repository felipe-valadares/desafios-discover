<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" />

    <link rel="stylesheet" href="./styles.css">

    <title id="tittle">Waffle</title>
</head>

<body onload="onloadPage()">
    <div class="container">
        <header>
            <h1 id="h1"></h1>
            <figure id="figure">
                <img id="foto" src="" alt="" width="400">
            </figure>
        </header>

        <main class="content">
            <section class="ingredients">
                <h2 class="caption">Ingredientes</h2>
                <ul class="list">
                    <li>2 xícaras (chá) de farinha de trigo</li>
                    <li>2 colheres (sopa) de açúcar</li>
                    <li>2 colheres (chá) de fermento em pó</li>
                    <li>1/2 colher (chá) de sal</li>
                    <li>2 colheres amido de milho</li>
                    <li>3 ovos batidos</li>
                    <li>4 colheres (sopa) de manteiga sem sal derretida</li>
                    <li>1 e 3/4 de xícara (chá) de leite</li>
                    <li>1 colher (sopa) de essência de baunilha</li>
                </ul>
            </section>

            <section class="preparation">
                <h2 class="caption">Modo de Preparo</h2>
                <ol class="list2">
                    <li>Peneire em um recipiente a farinha de trigo, o açúcar, o amido, o fermento e o sal. Reserve</li>
                    <li>Em outro recipiente misture os ovos batidos com leite, a manteiga derretida e a essência de
                        baunilha.</li>
                    <li>Despeje sobre a mistura de farinha e rapidamente incorpore os ingredientes.</li>
                    <li>Aqueça o aparelho para Waffles. Coloque uma concha rasa de massa e espalhe até cobrir o molde do
                        aparelho, feche a tampa e deixe assar até a massa ficar bem dourada.</li>
                    Retire com espátulas de silicone. Sirva com mel, frutas ou geleia.
                </ol>
            </section>

            <section class="information">
                <h2 class="caption">Informações Adicionais</h2>
                <p class="description">Voçê poderá servir estes Waffles no café da manha com geleia.</p>
            </section>
        </main>
    </div>
    <footer>
        <p>Feito com amor por <a href="http://rocketseat.com.br">Rocketseat</a>.</p>
    </footer>
</body>

<script>
    async function onloadPage() {
        var foto = document.getElementById('foto')
        let params = new URLSearchParams(document.location.search);
        let id = params.get("id")
        const tittle = document.getElementById('tittle')
        const h1 = document.getElementById('h1')

        const receitasFetch = await fetch('http://localhost:3000/receitas')
        const receitas = await receitasFetch.json()

        var filtered = receitas.find(receita => receita.id == id)

        foto.src = filtered.imagemUrl
        h1.innerHTML = filtered.nome
        tittle.innerHTML = filtered.nome
    }
</script>

</html>